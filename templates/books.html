
{% extends "layout.html" %}
{% block title %}Books{% endblock %}

{% block content %}


    <div class="container">

        <br>
        <div class="row">
            <div class="col" align='center'>
                <h1>Books</h1>
            </div>
        </div>
        <br>

        <div class="row">
            <div class="col" id="book-list">
            </div>
        </div>

    </div>

{% endblock %}

{% block scripts %}
<script>

    $(async() => {
        var response = await fetch("http://localhost:5003/get_all_books")
        var data = await response.json();
        var books = data["books"]

        books.forEach(book => {
            var row = '<a href='+ book['link'] + ' style="color: black !important;">' + 
                        '<div class="card" style="overflow: auto">' + 
                        '<div class="row no-gutters">' +
                            '<div class="col-auto">' + 
                                '<img src="https://www.sciencenewsforstudents.org/wp-content/uploads/2019/11/860_main_library_bacteria.png" class="img-fluid" alt="">' + 
                            '</div><div class="col">' + 
                                '<div class="card-block px-3">' + 
                                    '<h5 class="card-title">' + book["title"] + '</h5>' + 
                                    '<p class="card-subtitle">' + book["author"] + '</p>' 
                        '</div></div></div></div></a>'

            $("#book-list").append(row);
        });
    });

</script>
{% endblock %}

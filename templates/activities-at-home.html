{% extends "layout.html" %}
{% block title %}Activities At Home{% endblock %}

{% block content %}
<div class="container text-center">
    <h3>Activities At Home</h3>
    <div class="card text-black bg-transparent text-center">
        <img class="card-img img-fluid" src="/static/img/living-room.jpg" alt="Living Room">
    </div>
    <div>
      <h5 class="text-left"> Here are some activities you might enjoy doing at home: </h4>
      <ul class="list-group list-group-flush" id="activities">
      </ul>
    </div>


    <div class="text-right">

      <a href="/campus-activities">Next</a>
    </div>
</div>

{% endblock %}

{% block scripts %}
<script>
    async function displayHomeActivities() {
    // TODO: create session to store issue, skill, interest from wheel screen
    var issue = "Equality Diversity"
    var skill = "Creative"
    var interest = "Personal Development"

    let interimPersonaURL = "http://localhost:5001/get_home_activities_by_wheel/" + issue + "/" + skill + "/" + interest;
    try {
      const persona_response =
      await fetch(
        interimPersonaURL, {method: 'GET',
        }
      );
      const persona_details = await persona_response.json();
      if (persona_response.ok) {
        var activitiesList = persona_details["homeActivities"].split(",")
        
        let listElem = ""
        for (const activity of activitiesList) {
          elem = "<li class='list-group-item'>" + activity + "</li>"
          listElem += elem;
        }


        document.getElementById("activities").innerHTML = listElem;

      } else {
        showError(data_dep.message);
      }
    } catch (error) {
      console.log(error);
    }
  }
  displayHomeActivities()

</script>

{% endblock %}
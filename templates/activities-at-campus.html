{% extends "layout.html" %}
{% block title %}Activities At Campus{% endblock %}

{% block content %}
<div class="container text-center">
    <h3>Activities At Campus</h3>
    <div class="card text-black bg-transparent text-center">
        <img class="card-img img-fluid" src="/static/img/campus-green.jpg" alt="Campus Green">
    </div>

    <div>
      <h5 class="text-left"> Here are some activities you can do at campus: </h4>
      <ul class="list-group list-group-flush" id="activities">
      </ul>
    </div>

    <div class="text-left">
      <a href="/home-activities">Back</a>
    </div>
    
    <div class="text-right">
      <a href="/campus-activities">Next</a>
    </div>
</div>




{% endblock %}

{% block scripts %}
<script>
    async function displayCampusActivities() {
    // TODO: create session to store issue, skill, interest from wheel screen
    var issue = "Education And Mobility"
    var skill = "Tech"
    var interest = "Health"

    let interimPersonaURL = "http://localhost:5001/get_campus_activities_by_wheel/" + issue + "/" + skill + "/" + interest;
    try {
      const persona_response =
      await fetch(
        interimPersonaURL, {method: 'GET',
        }
      );
      const persona_details = await persona_response.json();
      if (persona_response.ok) {
        var activitiesList = persona_details["schoolActivities"].split(",")
        
        let listElem = ""
        for (const activity of activitiesList) {
          elem = "<li class='list-group-item'>" + activity + "</li>"
          listElem += elem;
        }

        document.getElementById("activities").innerHTML = listElem;

      } else {
        showError(data_dep.message);
      }
    } catch (error) {
      console.log(error);
    }
  }
  displayCampusActivities()

</script>

{% endblock %}